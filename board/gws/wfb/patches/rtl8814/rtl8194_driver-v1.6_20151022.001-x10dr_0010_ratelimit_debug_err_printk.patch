diff -Nur --exclude '*.orig' rtl8194_driver_v1.6_20151022.001/driver/rtl8192cd/8192cd_debug.h rtl8194_driver_v1.6_20151022.001-new/driver/rtl8192cd/8192cd_debug.h
--- rtl8194_driver_v1.6_20151022.001/driver/rtl8192cd/8192cd_debug.h	2017-02-07 12:26:58.105098623 -0800
+++ rtl8194_driver_v1.6_20151022.001-new/driver/rtl8192cd/8192cd_debug.h	2017-02-07 12:26:18.928825124 -0800
@@ -13,6 +13,9 @@
 #ifndef _8192CD_DEBUG_H_
 #define _8192CD_DEBUG_H_
 
+#include <linux/printk.h>
+#include <linux/ratelimit.h>
+
 #if 1
 //#define	_MESH_MOD_	
 #define printMac(da)	printk("%02X:%02X:%02X:%02X:%02X:%02X\n",  0xff&*(da), 0xff&*(da+1), 0xff&*(da+2), 0xff&*(da+3), 0xff&*(da+4), 0xff&*(da+5));
@@ -242,7 +245,7 @@
 
 #define __DEBUG_ERR(name, fmt, args...) \
 	if (rtl8192cd_debug_err&_MODULE_DEFINE) \
-		printk(KERN_ERR "%s-"_MODULE_NAME"-err: " fmt, name, ## args);
+		printk_ratelimited(KERN_ERR "%s-"_MODULE_NAME"-err: " fmt, name, ## args);
 #define __DEBUG_TRACE(name) \
 	if (rtl8192cd_debug_trace&_MODULE_DEFINE) \
 		printk(KERN_DEBUG "%s-"_MODULE_NAME"-trace: %s----->\n", name, (char *)__FUNCTION__);
